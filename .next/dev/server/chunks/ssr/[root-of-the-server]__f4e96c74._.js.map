{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///C:/LEVEL-2/trip-nest-front-end/lib/api.ts"],"sourcesContent":["import axios from \"axios\"\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_BASE_URL || \"http://localhost:5000/api/v1\"\n\nconst apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n})\n\napiClient.interceptors.request.use(\n  (config) => {\n    if (typeof window !== \"undefined\") {\n      const token = localStorage.getItem(\"authToken\")\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`\n      }\n    }\n    return config\n  },\n  (error) => Promise.reject(error),\n)\n\napiClient.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      // Clear token and redirect to login if unauthorized\n      if (typeof window !== \"undefined\") {\n        localStorage.removeItem(\"authToken\")\n        window.location.href = \"/auth/login\"\n      }\n    }\n    return Promise.reject(error)\n  },\n)\n\nexport const api = {\n  // Auth endpoints\n  login: (email: string, password: string) => apiClient.post(\"/auth/login\", { email, password }),\n  register: (email: string, password: string, name: string) =>\n    apiClient.post(\"/auth/register\", { email, password, name }),\n\n  // Packages endpoints\n  getPackages: () => apiClient.get(\"/packages\"),\n  getPackageBySlug: (slug: string) => apiClient.get(`/packages/${slug}`),\n\n  // Admin - Users\n  getUsers: () => apiClient.get(\"/admin/users\"),\n  updateUserRole: (userId: string, role: \"USER\" | \"ADMIN\") => apiClient.patch(`/admin/users/${userId}`, { role }),\n  deleteUser: (userId: string) => apiClient.delete(`/admin/users/${userId}`),\n\n  // Admin - Packages\n  createPackage: (data: { title: string; description: string; price: number; duration: string }) =>\n    apiClient.post(\"/admin/packages\", data),\n  updatePackage: (packageId: string, data: { title: string; description: string; price: number; duration: string }) =>\n    apiClient.patch(`/admin/packages/${packageId}`, data),\n  deletePackage: (packageId: string) => apiClient.delete(`/admin/packages/${packageId}`),\n\n  // Admin - Bookings\n  getBookings: () => apiClient.get(\"/admin/bookings\"),\n  getBookingDetails: (bookingId: string) => apiClient.get(`/admin/bookings/${bookingId}`),\n  updateBookingStatus: (bookingId: string, status: \"PENDING\" | \"CONFIRMED\" | \"CANCELLED\") =>\n    apiClient.patch(`/admin/bookings/${bookingId}`, { status }),\n\n  // Admin - Payments\n  getPayments: () => apiClient.get(\"/admin/payments\"),\n  getPaymentDetails: (paymentId: string) => apiClient.get(`/admin/payments/${paymentId}`),\n\n  // User - Bookings\n  getUserBookings: () => apiClient.get(\"/user/bookings\"),\n  createBooking: (packageId: string, data: { startDate: string; endDate: string; guests: number }) =>\n    apiClient.post(\"/user/bookings\", { packageId, ...data }),\n  cancelBooking: (bookingId: string) => apiClient.patch(`/user/bookings/${bookingId}/cancel`, {}),\n\n  // User - Profile\n  getUserProfile: () => apiClient.get(\"/user/profile\"),\n  updateUserProfile: (data: { name: string; email: string }) => apiClient.patch(\"/user/profile\", data),\n  updateUserPassword: (data: { currentPassword: string; newPassword: string }) =>\n    apiClient.patch(\"/user/password\", data),\n\n  // Payments\n  createCheckoutSession: (bookingId: string) => apiClient.post(\"/payments/checkout-session\", { bookingId }),\n  verifyPayment: (paymentId: string, stripePaymentIntentId: string) =>\n    apiClient.post(\"/payments/verify\", { paymentId, stripePaymentIntentId }),\n}\n\nexport default apiClient\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,eAAe,oEAAoC;AAEzD,MAAM,YAAY,gJAAK,CAAC,MAAM,CAAC;IAC7B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,UAAU,YAAY,CAAC,OAAO,CAAC,GAAG,CAChC,CAAC;IACC;;IAMA,OAAO;AACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;AAG5B,UAAU,YAAY,CAAC,QAAQ,CAAC,GAAG,CACjC,CAAC,WAAa,UACd,CAAC;IACC,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;QAClC,oDAAoD;QACpD;;IAIF;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGK,MAAM,MAAM;IACjB,iBAAiB;IACjB,OAAO,CAAC,OAAe,WAAqB,UAAU,IAAI,CAAC,eAAe;YAAE;YAAO;QAAS;IAC5F,UAAU,CAAC,OAAe,UAAkB,OAC1C,UAAU,IAAI,CAAC,kBAAkB;YAAE;YAAO;YAAU;QAAK;IAE3D,qBAAqB;IACrB,aAAa,IAAM,UAAU,GAAG,CAAC;IACjC,kBAAkB,CAAC,OAAiB,UAAU,GAAG,CAAC,CAAC,UAAU,EAAE,MAAM;IAErE,gBAAgB;IAChB,UAAU,IAAM,UAAU,GAAG,CAAC;IAC9B,gBAAgB,CAAC,QAAgB,OAA2B,UAAU,KAAK,CAAC,CAAC,aAAa,EAAE,QAAQ,EAAE;YAAE;QAAK;IAC7G,YAAY,CAAC,SAAmB,UAAU,MAAM,CAAC,CAAC,aAAa,EAAE,QAAQ;IAEzE,mBAAmB;IACnB,eAAe,CAAC,OACd,UAAU,IAAI,CAAC,mBAAmB;IACpC,eAAe,CAAC,WAAmB,OACjC,UAAU,KAAK,CAAC,CAAC,gBAAgB,EAAE,WAAW,EAAE;IAClD,eAAe,CAAC,YAAsB,UAAU,MAAM,CAAC,CAAC,gBAAgB,EAAE,WAAW;IAErF,mBAAmB;IACnB,aAAa,IAAM,UAAU,GAAG,CAAC;IACjC,mBAAmB,CAAC,YAAsB,UAAU,GAAG,CAAC,CAAC,gBAAgB,EAAE,WAAW;IACtF,qBAAqB,CAAC,WAAmB,SACvC,UAAU,KAAK,CAAC,CAAC,gBAAgB,EAAE,WAAW,EAAE;YAAE;QAAO;IAE3D,mBAAmB;IACnB,aAAa,IAAM,UAAU,GAAG,CAAC;IACjC,mBAAmB,CAAC,YAAsB,UAAU,GAAG,CAAC,CAAC,gBAAgB,EAAE,WAAW;IAEtF,kBAAkB;IAClB,iBAAiB,IAAM,UAAU,GAAG,CAAC;IACrC,eAAe,CAAC,WAAmB,OACjC,UAAU,IAAI,CAAC,kBAAkB;YAAE;YAAW,GAAG,IAAI;QAAC;IACxD,eAAe,CAAC,YAAsB,UAAU,KAAK,CAAC,CAAC,eAAe,EAAE,UAAU,OAAO,CAAC,EAAE,CAAC;IAE7F,iBAAiB;IACjB,gBAAgB,IAAM,UAAU,GAAG,CAAC;IACpC,mBAAmB,CAAC,OAA0C,UAAU,KAAK,CAAC,iBAAiB;IAC/F,oBAAoB,CAAC,OACnB,UAAU,KAAK,CAAC,kBAAkB;IAEpC,WAAW;IACX,uBAAuB,CAAC,YAAsB,UAAU,IAAI,CAAC,8BAA8B;YAAE;QAAU;IACvG,eAAe,CAAC,WAAmB,wBACjC,UAAU,IAAI,CAAC,oBAAoB;YAAE;YAAW;QAAsB;AAC1E;uCAEe"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///C:/LEVEL-2/trip-nest-front-end/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 264, "column": 0}, "map": {"version":3,"sources":["file:///C:/LEVEL-2/trip-nest-front-end/components/PackageCard.tsx"],"sourcesContent":["\"use client\"\n\nimport Link from \"next/link\"\nimport type { Package as PackageType } from \"@/lib/types\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { MapPin, DollarSign } from \"lucide-react\"\n\ninterface PackageCardProps {\n  package: PackageType\n}\n\nexport default function PackageCard({ package: pkg }: PackageCardProps) {\n  return (\n    <Card className=\"overflow-hidden hover:shadow-lg transition-shadow h-full flex flex-col\">\n      {pkg.images && (\n        <div className=\"aspect-video bg-muted overflow-hidden\">\n          <img\n            src={pkg.images[0] || \"/placeholder.svg\"}\n            alt={pkg.title}\n            className=\"w-full h-full object-cover hover:scale-105 transition-transform\"\n          />\n        </div>\n      )}\n      <CardHeader>\n        <CardTitle className=\"line-clamp-2\">{pkg.title}</CardTitle>\n        <CardDescription className=\"line-clamp-2\">{pkg.description}</CardDescription>\n      </CardHeader>\n      <CardContent className=\"flex-1 flex flex-col justify-between\">\n        <div className=\"space-y-2 mb-4\">\n          {pkg.durationDays && (\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n              <MapPin size={16} />\n              {pkg.durationDays}\n            </div>\n          )}\n          <div className=\"flex items-center gap-2 text-lg font-bold text-primary\">\n            <DollarSign size={16} />\n            {pkg.costFrom} {pkg.currency}\n          </div>\n        </div>\n        <Link href={`/packages/${pkg.slug}`} className=\"mt-auto\">\n          <Button className=\"w-full\">View Details</Button>\n        </Link>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AAAA;AANA;;;;;;AAYe,SAAS,YAAY,EAAE,SAAS,GAAG,EAAoB;IACpE,qBACE,8OAAC,iIAAI;QAAC,WAAU;;YACb,IAAI,MAAM,kBACT,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,KAAK,IAAI,MAAM,CAAC,EAAE,IAAI;oBACtB,KAAK,IAAI,KAAK;oBACd,WAAU;;;;;;;;;;;0BAIhB,8OAAC,uIAAU;;kCACT,8OAAC,sIAAS;wBAAC,WAAU;kCAAgB,IAAI,KAAK;;;;;;kCAC9C,8OAAC,4IAAe;wBAAC,WAAU;kCAAgB,IAAI,WAAW;;;;;;;;;;;;0BAE5D,8OAAC,wIAAW;gBAAC,WAAU;;kCACrB,8OAAC;wBAAI,WAAU;;4BACZ,IAAI,YAAY,kBACf,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,oNAAM;wCAAC,MAAM;;;;;;oCACb,IAAI,YAAY;;;;;;;0CAGrB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,gOAAU;wCAAC,MAAM;;;;;;oCACjB,IAAI,QAAQ;oCAAC;oCAAE,IAAI,QAAQ;;;;;;;;;;;;;kCAGhC,8OAAC,uKAAI;wBAAC,MAAM,CAAC,UAAU,EAAE,IAAI,IAAI,EAAE;wBAAE,WAAU;kCAC7C,cAAA,8OAAC,qIAAM;4BAAC,WAAU;sCAAS;;;;;;;;;;;;;;;;;;;;;;;AAKrC"}},
    {"offset": {"line": 405, "column": 0}, "map": {"version":3,"sources":["file:///C:/LEVEL-2/trip-nest-front-end/app/packages/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect } from \"react\"\nimport { useAppDispatch, useAppSelector } from \"@/redux/hooks\"\nimport { fetchPackagesStart, fetchPackagesSuccess, fetchPackagesError } from \"@/redux/slices/packagesSlice\"\nimport { api } from \"@/lib/api\"\nimport PackageCard from \"@/components/PackageCard\"\nimport { Loader2, AlertCircle } from \"lucide-react\"\n\nexport default function PackagesPage() {\n  const dispatch = useAppDispatch()\n  const { items, isLoading, error } = useAppSelector((state) => state.packages)\n\n\n\n  console.log(\" PackagesPage render: from Redux store\",  items.length)\n\n  useEffect(() => {\n    const fetchPackages = async () => {\n      dispatch(fetchPackagesStart())\n      try {\n        const response = await api.getPackages()\n        dispatch(fetchPackagesSuccess(response.data.data))\n        console.log(\" Packages loaded successfully:\", response.data.data)\n      } catch (err) {\n        const errorMessage = err instanceof Error ? err.message : \"Failed to fetch packages\"\n        dispatch(fetchPackagesError(errorMessage))\n        console.error(\"ðŸš¨Error fetching packages:\", errorMessage)\n      }\n    }\n\n    if (items.length === 0) {\n      fetchPackages()\n    }\n  }, [dispatch, items.length])\n\n  return (\n    <div className=\"min-h-[calc(100vh-theme(space.16))] py-12\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"mb-12\">\n          <h1 className=\"text-4xl md:text-5xl font-bold mb-4\">Travel Packages</h1>\n          <p className=\"text-lg text-muted-foreground\">Choose from our collection of amazing travel packages</p>\n        </div>\n\n        {error && (\n          <div className=\"mb-8 p-4 bg-destructive/10 border border-destructive/20 rounded-lg text-destructive flex items-start gap-2\">\n            <AlertCircle size={20} className=\"mt-0.5 shrink-0\" />\n            <div>\n              <p className=\"font-medium\">Error loading packages</p>\n              <p className=\"text-sm\">{error}</p>\n              <p className=\"text-xs mt-2 opacity-75\">Make sure backend is running at http://localhost:5000</p>\n            </div>\n          </div>\n        )}\n\n        {isLoading ? (\n          <div className=\"flex items-center justify-center py-12\">\n            <Loader2 className=\"animate-spin text-primary\" size={32} />\n          </div>\n        ) : items.length > 0 ? (\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {items.map((pkg) => (\n              <PackageCard key={pkg._id} package={pkg} />\n            ))}\n          </div>\n        ) : (\n          <div className=\"text-center py-12\">\n            <p className=\"text-muted-foreground text-lg\">No packages available</p>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;;;;;;;;AASe,SAAS;IACtB,MAAM,WAAW,IAAA,gIAAc;IAC/B,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,IAAA,gIAAc,EAAC,CAAC,QAAU,MAAM,QAAQ;IAI5E,QAAQ,GAAG,CAAC,0CAA2C,MAAM,MAAM;IAEnE,IAAA,kNAAS,EAAC;QACR,MAAM,gBAAgB;YACpB,SAAS,IAAA,sJAAkB;YAC3B,IAAI;gBACF,MAAM,WAAW,MAAM,iHAAG,CAAC,WAAW;gBACtC,SAAS,IAAA,wJAAoB,EAAC,SAAS,IAAI,CAAC,IAAI;gBAChD,QAAQ,GAAG,CAAC,kCAAkC,SAAS,IAAI,CAAC,IAAI;YAClE,EAAE,OAAO,KAAK;gBACZ,MAAM,eAAe,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAC1D,SAAS,IAAA,sJAAkB,EAAC;gBAC5B,QAAQ,KAAK,CAAC,8BAA8B;YAC9C;QACF;QAEA,IAAI,MAAM,MAAM,KAAK,GAAG;YACtB;QACF;IACF,GAAG;QAAC;QAAU,MAAM,MAAM;KAAC;IAE3B,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAsC;;;;;;sCACpD,8OAAC;4BAAE,WAAU;sCAAgC;;;;;;;;;;;;gBAG9C,uBACC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,mOAAW;4BAAC,MAAM;4BAAI,WAAU;;;;;;sCACjC,8OAAC;;8CACC,8OAAC;oCAAE,WAAU;8CAAc;;;;;;8CAC3B,8OAAC;oCAAE,WAAU;8CAAW;;;;;;8CACxB,8OAAC;oCAAE,WAAU;8CAA0B;;;;;;;;;;;;;;;;;;gBAK5C,0BACC,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,4NAAO;wBAAC,WAAU;wBAA4B,MAAM;;;;;;;;;;2BAErD,MAAM,MAAM,GAAG,kBACjB,8OAAC;oBAAI,WAAU;8BACZ,MAAM,GAAG,CAAC,CAAC,oBACV,8OAAC,qIAAW;4BAAe,SAAS;2BAAlB,IAAI,GAAG;;;;;;;;;yCAI7B,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAE,WAAU;kCAAgC;;;;;;;;;;;;;;;;;;;;;;AAMzD"}}]
}